<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <style>
        hr {
            margin-bottom: 4em;
            margin-top: 4em;
            border: 0;
            height: 1px;
            width: 95%;
            background-image: linear-gradient(to right, #66ccff, #006699, #66ccff);
        }

        mark {
            background-color: #ebebeb;
            color: #545454;
            padding: 0.25em;
            margin: 0.25em;
            border-radius: 5px;
        }

        body {
            background-color: #E5E8E8;
            padding: 3em;
            font-family: 'Roboto', sans-serif;
            color: #545454;
        }

        section {
            background-color: #fff;
            padding: 0.001em;
        }

        li {
            margin-bottom: 1em;
        }

        button {
            border-radius: 10px;
            padding-left: 10px;
            padding-right: 10px;
            padding-top: 2px;
            padding-bottom: 2px;
            border-width: 1px;
            border-color: #006699;
            background-color: #E5E8E8;
        }

        img {
            font-family: Consolas;
            font-size: 18px;
            color: #fff;
            border-width: 15px;
            border-style: solid;
            border-color: #d6d6d6;
        }

        .hide-answer {
            display: none;
        }

        .cont-cent {
            text-align: center;
        }

        .cont-left {
            font-size: 1.2em;
            text-align: left;
            margin-left: 4em;
            margin-right: 4em;
            margin-bottom: 1em;
        }

        .title {
            background-color: #0099cc;
            padding: 0.7em;
            margin: 2em;
            color: #E5E8E8;
            font-size: 32px;
            box-shadow: 10px 10px 5px grey;
        }

        .code {
            font-family: Consolas;
            font-size: 18px;
            background-color: #1F1F1F;
            color: #fff;
            padding: 10px;
            border-width: 2px;
            border-left: 20px;
            border-style: solid;
            border-color: #86B42B;
            box-shadow: 10px 10px 5px grey;
        }
    </style>
    <script>
        function alterAnswer(id) {
            var element = document.getElementById(id);
            var hide = true
            var button = document.getElementById(`btn${id}`);
            element.classList.forEach(myElement => {
                if (myElement == "hide-answer") {
                    hide = false;
                    element.classList.remove("hide-answer");
                    button.innerHTML = "Ocultar respuesta";
                }
            });
            if (hide) {
                element.classList.add("hide-answer");
                button.innerHTML = "Mostrar respuesta";
            }
        }
    </script>
    <section>
        <div class="cont-cent" style="margin-bottom: 0;">
            <img src="./Logo 1 letra negra.png" style="width: 20em; border-width: 0px;">
        </div>
        <div class="title" style="margin-top: 0;">
            <label for="">Guia de Laboratorios: Logstash Developer Engineer</label>
        </div>
        <div class="cont-left" style="line-height: 1.5em;">
            <ul>
                <li>
                    <a href="#lab1">Lab 1: Introducción a Logstash</a>
                </li>
                <li>
                    <a href="#lab2">Lab 2: Instalación de Logstash</a>
                </li>
                <li>
                    <a href="#lab3">Lab 3: Directorios y archivos de configuración</a>
                </li>
                <li>
                    <a href="#lab4">Lab 4: Pipelines</a>
                </li>
                <li>
                    <a href="#lab5">Lab 5: Input JDBC</a>
                </li>
                <li>
                    <a href="#lab6">Lab 6: Input file</a>
                </li>
                <li>
                    <a href="#lab7">Lab 7: Input UDP</a>
                </li>
                <li>
                    <a href="#lab8">Lab 8: Output file</a>
                </li>
                <li>
                    <a href="#lab9">Lab 9: Output S3</a>
                </li>
                <li>
                    <a href="#lab10">Lab 10: Output ElasticSearch</a>
                </li>
                <li>
                    <a href="#lab11">Lab 11: Filter Mutate</a>
                </li>
                <li>
                    <a href="#lab12">Lab 12: filter dissect</a>
                </li>
                <li>
                    <a href="#lab13">Lab 13: Filter Grok</a>
                </li>
                <li>
                    <a href="#lab14">Lab 14: Filter Ruby</a>
                </li>
                <li>
                    <a href="#lab15">Lab 15: Filter Geo IP</a>
                </li>
                <li>
                    <a href="#lab16">Lab 16: debugging y Troubleshooting en logstash</a>
                </li>
                <li>
                    <a href="#lab17">Lab 17: Condicionales de logstash</a>
                </li>
                <li>
                    <a href="#lab18">Lab 18: Instalando Plugins de la comunidad</a>
                </li>
                <li>
                    <a href="#lab19">Lab 19: Configuraciones Avanzadas</a>
                </li>
                <li>
                    <a href="#lab20">Taller de proyectos</a>
                </li>
            </ul>
        </div>
        <hr>
    </section>
    <section id="lab1">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 1: Introducción a Logstash</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong> El objetivo de este laboratorio es presentarle el entorno de laboratorio
                de AWS EC2 y brindarle una breve descripción del ambiente.</label>
        </div>
        <div class="cont-left">
            <label><strong>NOTA:</strong> Todas las prácticas de laboratorio se realizarán mediante el servicio AWS EC2.
                El entorno del laboratorio se diseñó para esta capacitación y tiene todo lo que necesita para
                completar los laboratorios con éxito. Una vez que haya completado el curso y su entorno de laboratorio
                ya no esté disponible, podrá completar los laboratorios en instancias de Tier gratuito de Elasticsearch.
                Utilice estas instrucciones como referencia sobre cómo ejecutar los laboratorios en su propia
                máquina.</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Desde la consola de AWS en el servicio EC2, haga clic en el icono <strong>Conectar</strong> en la
                    barra de herramientas superior::
                    <br>
                    <br>
                    <div class="cont-cent">
                        <img src="./1.png" alt="">
                    </div>
                    Se abrirá una nueva ventana y tendrá que descifrar la contraseña de Windows usando la clave .pem
                    proporcionada. A continuación, debe usar Putty para conectarse a la instancia <mark>server1</mark>.
                </li>
                <li>
                    Use Putty para acceder al server1 <strong>Elastic</strong>:
                    <br>
                    <br>
                    <div class="cont-left code">
                        Putty server1
                    </div>
                </li>
                <li>
                    Vea el contenido de la carpeta de inicio del usuario elástico ingresando ls -l. Debería ver los
                    archivos tar de Elasticsearch, Filebeat, Kibana y Logstash, que simplemente se descargaron de
                    nuestro sitio web.:
                    <br>
                    <br>
                    <div class="cont-left code">
                        [elastic@server1 ~]$ ls -l <br>
                        total 683376 <br>
                        drwxr-xr-x 5 elastic elastic 4096 Nov 23 15:09 datasets <br>
                        -rw-r--r-- 1 elastic elastic 113317061 Nov 23 15:09 elasticsearch-7.5.0-linux-x86_64.tar.gz <br>
                        -rw-r--r-- 1 elastic elastic 206477263 Nov 23 15:09 kibana-7.5.0-linux-x86_64.tar.gz <br>
                        -rw-r--r-- 1 elastic elastic 551290 Nov 23 15:09 postgresql-9.1-901-1.jdbc4.jar <br>
                    </div>
                </li>
                <li>
                    Para los laboratorios debera estar familiarizado con la herramienta Vim. pruebelo creando un
                    documento llamado <strong>HelloWorld.txt</strong>
                    <div class="cont-left code">
                        [elastic@server1 ~]$ vim HelloWorld.txt
                    </div>
                </li>
                <li>
                    Para editar presione <mark>i</mark> y escriba el siguiente texto
                    <br>
                    <div class="cont-left code">
                        Hello World <br>
                        Conociendo Vim <br>
                        Lorem ipsum dolor <br>
                        sit amet consectetur <br>
                    </div>
                </li>
                <li>
                    Para guardar el documento presione la tecla <strong>Esc</strong> luego escriba
                    <mark>:wq!</mark>. <mark>W</mark> significa Write y es la opcion de escribir, si solo deseamos
                    guardar sin salir podemos escribir <mark>:w!</mark>. Por otro lado <mark>Q</mark> significa
                    Quit, si deseamos salir sin guardar podemos escribir <mark>:q!</mark> <br>
                    <strong>NOTA:</strong> Siempre debemos presionar <strong>Esc</strong> para poder digitar estas
                    opciones
                </li>
                <li>
                    Vuelva a abrir el documento
                    <div class="cont-left code">
                        [elastic@server1 ~]$ vim HelloWorld.txt
                    </div>
                </li>
                <li>
                    Sin entrar al modo edicion escriba <mark>d3</mark> y luego presione enter. De esta forma puede
                    borrar multiples lineas simultaneamente, para este caso 3 lineas
                </li>
                <li>
                    En las próximas prácticas de laboratorio, descargara e iniciara Logstash
                </li>
            </ol>
        </div>
    </section>
    <section id="lab2">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 2: Instalación de Logstash</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong> El objetivo de este laboratorio es mostarle los metodos de Instalación
                de logstash</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    En primer lugar para ejecutar logstash requerimos de Java, para ver nuestra version de Java podemos
                    ejecutar el siguiente comando
                    <div class="cont-left code">
                        java -version
                    </div>
                    obtendremos un resultado como el siguiente, que nos muestra que Java no se encuentra instalado
                    <div class="cont-left code">
                        ubuntu@ip-172-31-15-165:~$ java -version <br><br>
                        Command 'java' not found, but can be installed with: <br><br>
                        sudo apt install default-jre <br>
                        sudo apt install openjdk-11-jre-headless <br>
                        sudo apt install openjdk-8-jre-headless <br>
                    </div>
                </li>
                <li>
                    Ejecutemos el siguiente comando para instalar Java
                    <div class="cont-left code">
                        sudo apt-get update <br>
                        sudo apt install default-jre
                    </div>
                </li>
                <li>
                    volvemos a ejecutar el comando para saber que versión de Java tenemos
                    <div class="cont-left code">
                        java -version
                    </div>
                    ahi obtendremos un resultado como el siguiente
                    <div class="cont-left code">
                        ubuntu@ip-172-31-15-165:~$ java -version <br>
                        openjdk version "11.0.10" 2021-01-19 <br>
                        OpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04) <br>
                        OpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing) <br>
                    </div>
                </li>
                <li>
                    Lo siguiente que requerimos es validar la variable de entorno <mark>$JAVA_HOME</mark> para esto
                    editaremos el documento <mark>/etc/environment</mark> con vim
                    <div class="cont-left code">
                        sudo vim /etc/environment
                    </div>
                </li>
                <li>
                    ahi presionaremos <mark>i</mark> para editar y añadiremos una nueva linea con el siguiente contenido
                    <div class="cont-left code">
                        JAVA_HOME="/usr/lib/jvm/java-1.11.0-openjdk-amd64/"
                    </div>
                    presionaremos <strong>Esc</strong> y ahi <mark>:wq!</mark>
                </li>
                <li>
                    ahora actualizamos las variables de entorno con el siguiente comando:
                    <div class="cont-left code">
                        source /etc/environment
                    </div>
                </li>
                <li>
                    Podemos verificarlo con el siguiente comando:
                    <div class="cont-left code">
                        echo $JAVA_HOME
                    </div>
                </li>
                <li>
                    En primer lugar realizaremos la instacion de logstash comprimido, podemos acceder a
                    <a href="https://www.elastic.co/downloads/logstash">https://www.elastic.co/downloads/logstash</a>
                </li>
                <li>
                    Para descargar el comprimido en el servidor podemos ejecutar el siguiente comando
                    <div class="cont-left code">
                        wget https://artifacts.elastic.co/downloads/logstash/logstash-7.5.2.tar.gz
                    </div>
                </li>
                <li>
                    Descomprima Logstash
                    <div class="cont-left code">
                        tar -zxf logstash-7.5.2.tar.gz
                    </div>
                </li>
                <li>
                    Pruebe a ejecutar logstash con el siguiente comando
                    <div class="code cont-left">
                        ./logstash-7.5.2/bin/logstash
                    </div>
                    si todo se ejecuto de la manera adecuada deberia ver un cabezal como este
                    <div class="cont-cent">
                        <img src="./2.png" alt="">
                    </div>
                </li>
                <li>
                    Ahora vamos a realizar la instalacion por medio de paqueteria. Descargue e instale la clave de firma
                    pública:
                    <div class="cont-left code">
                        wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -
                    </div>
                </li>
                <li>
                    Es posible que deba instalar el paquete <strong>apt-transport-https</strong> en Debian antes de
                    continuar:
                    <div class="cont-left code">
                        sudo apt-get install apt-transport-https
                    </div>
                </li>
                <li>
                    Guarde la definición del repositorio en /etc/apt/sources.list.d/elastic-7.x.list:
                    <div class="code cont-left">
                        echo "deb https://artifacts.elastic.co/packages/7.x/apt stable main" | sudo tee -a
                        /etc/apt/sources.list.d/elastic-7.x.list
                    </div>
                </li>
                <li>
                    Ejecute sudo <mark>apt-get update</mark> y el repositorio estará listo para su uso. Puedes
                    instalarlo con:
                    <div class="cont-left code">
                        sudo apt-get update && sudo apt-get install logstash
                    </div>
                </li>
                <li>
                    Si realizamos los pasos de manera adecuada deberiamos obtener un resultado como el siguiente
                    <div class="cont-cent">
                        <img src="./3.png" alt="">
                    </div>
                </li>
                <li>
                    podemos detener el servicio con
                    <div class="cont-left code">
                        sudo service logstash stop
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab3">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 3: Directorios y archivos de configuración</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong> El objetivo de este laboratorio es mostarle los metodos de Instalación
                de logstash</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    ¿Que archivos componen la instalacion de logstash por el metodo de archivo comprimido?
                    <br>
                    <div class="cont-left hide-answer code" id="1">
                        ubuntu@ip-172-31-15-165:~/logstash-7.5.2$ ll -ls <br>
                        total 892 <br>
                        4 drwxr-xr-x 12 ubuntu ubuntu 4096 Jan 15 2020 ./ <br>
                        4 drwxr-xr-x 6 ubuntu ubuntu 4096 Apr 19 15:29 ../
                        4 -rw-r--r-- 1 ubuntu ubuntu 2276 Jan 15 2020 CONTRIBUTORS <br>
                        8 -rw-r--r-- 1 ubuntu ubuntu 4097 Jan 15 2020 Gemfile <br>
                        24 -rw-r--r-- 1 ubuntu ubuntu 22792 Jan 15 2020 Gemfile.lock <br>
                        16 -rw-r--r-- 1 ubuntu ubuntu 13675 Jan 15 2020 LICENSE.txt <br>
                        792 -rw-r--r-- 1 ubuntu ubuntu 808305 Jan 15 2020 NOTICE.TXT <br>
                        4 drwxr-xr-x 2 ubuntu ubuntu 4096 Apr 19 15:29 bin/ <br>
                        4 drwxr-xr-x 2 ubuntu ubuntu 4096 Apr 19 15:29 config/ <br>
                        4 drwxr-xr-x 2 ubuntu ubuntu 4096 Jan 15 2020 data/ <br>
                        4 drwxr-xr-x 6 ubuntu ubuntu 4096 Apr 19 15:29 lib/ <br>
                        4 drwxr-xr-x 4 ubuntu ubuntu 4096 Apr 19 15:29 logstash-core/ <br>
                        4 drwxr-xr-x 3 ubuntu ubuntu 4096 Apr 19 15:29 logstash-core-plugin-api/ <br>
                        4 drwxr-xr-x 4 ubuntu ubuntu 4096 Apr 19 15:29 modules/ <br>
                        4 drwxr-xr-x 3 ubuntu ubuntu 4096 Apr 19 15:29 tools/ <br>
                        4 drwxr-xr-x 4 ubuntu ubuntu 4096 Jan 15 2020 vendor/ <br>
                        4 drwxr-xr-x 9 ubuntu ubuntu 4096 Apr 19 15:29 x-pack/ <br>
                    </div>
                    <button id="btn1" onclick="alterAnswer(1)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Donde podemos encontrar la carpeta principal de logstash instalado
                    por paqueteria?
                    <br>
                    <div class="cont-left hide-answer code" id="2">
                        ubuntu@ip-172-31-15-165:~/logstash-7.5.2$ ls -la /etc/logstash/ <br>
                        total 48<br>
                        drwxr-xr-x 3 root root 4096 Apr 19 14:55 .<br>
                        drwxr-xr-x 93 root root 4096 Apr 19 15:29 ..<br>
                        drwxr-xr-x 2 root root 4096 Mar 18 05:15 conf.d<br>
                        -rw-r--r-- 1 root root 2034 Mar 18 05:08 jvm.options<br>
                        -rw-r--r-- 1 root root 7561 Mar 18 05:08 log4j2.properties<br>
                        -rw-r--r-- 1 root root 342 Mar 18 05:08 logstash-sample.conf<br>
                        -rw-r--r-- 1 root root 11226 Apr 19 14:55 logstash.yml<br>
                        -rw-r--r-- 1 root root 285 Mar 18 05:08 pipelines.yml<br>
                        -rw------- 1 root root 1696 Mar 18 05:08 startup.options <br>
                    </div>
                    <button id="btn2" onclick="alterAnswer(2)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Donde podemos encontrar los logs de logstash instalado por paqueteria?
                    <br>
                    <div class="cont-left hide-answer code" id="3">
                        ubuntu@ip-172-31-15-165:~/logstash-7.5.2$ ls -la /var/log/logstash/
                        total 8
                        drwxr-xr-x 2 logstash root 4096 Mar 18 05:15 .
                        drwxrwxr-x 10 root syslog 4096 Apr 19 14:45 ..
                    </div>
                    <button id="btn3" onclick="alterAnswer(3)">Mostrar respuesta</button>
                </li>
                <li>
                    Ahora vamos a hacer que logstash instalado por comprimido deje sus logs
                    en la misma carpeta que el instalado por paqueteria para esto vamos
                    a editar el archivo <strong>logstash.yml</strong>
                    <br>
                    <div class="cont-left code">
                        ubuntu@ip-172-31-15-165:~/logstash-7.5.2$ vim config/logstash.yml
                    </div>
                </li>
                <li>
                    dirijamonos a la sección <strong> Debugging Settings</strong> en la linea 197
                    <div class="cont-cent">
                        <img src="./4.png" alt="">
                    </div>
                </li>
                <li>
                    removamos los comentarios de <mark>log.level</mark> y del <mark>path.log</mark>
                    <div class="cont-cent">
                        <img src="./5.png" alt="">
                    </div>
                </li>
                <li>
                    por ultimo añadamos la ruta <mark>/var/log/logstash/</mark> a la opcion
                    <mark>path.log</mark>. Guarde lo editado
                    <div class="cont-cent">
                        <img src="./6.png" alt="">
                    </div>
                </li>
                <li>
                    Ahora vamos a darle mas poder a nuestras pipelines aumentando los <mark>workers</mark>
                    edite el archivo <strong>logstash.yml</strong>
                    <br>
                    <div class="cont-left code hide-answer" id="4">
                        ubuntu@ip-172-31-15-165:~/logstash-7.5.2$ vim config/logstash.yml
                    </div>
                    <button id="btn4" onclick="alterAnswer(4)">Mostrar respuesta</button>
                </li>
                <li>
                    dirijamonos a la sección <strong> Pipeline Settings</strong> en la linea 30
                    <div class="cont-cent">
                        <img src="./7.png" alt="">
                    </div>
                </li>
                <li>
                    modifique la cantidad de workers a 5 y guarde el archivo
                    <br>
                    <div class="cont-left code hide-answer" id="5">
                        pipeline.woerkers: 5
                    </div>
                    <button id="btn5" onclick="alterAnswer(5)">Mostrar respuesta</button>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab4">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 4: Pipelines</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong> El objetivo de este laboratorio es mostarle el funcionamiento de las
                pipelines y que se familiarice con ellas</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    En primer lugar va familiarice con los plugins de tipo <strong>Input</strong>, ingrese a este
                    <a href="https://www.elastic.co/guide/en/logstash/current/input-plugins.html">link</a> y
                    responda las siguientes preguntas
                    <ul>
                        <li>
                            ¿Qué input nos permitiria ingestar datos de <mark>/var/log</mark>?
                            <br>
                            <div class="cont-left  hide-answer" id="6">
                                file
                            </div>
                            <button id="btn6" onclick="alterAnswer(6)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué input nos permitiria ingestar datos de Syslog?
                            <br>
                            <div class="cont-left  hide-answer" id="7">
                                Syslog
                            </div>
                            <button id="btn7" onclick="alterAnswer(7)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué input nos permitiria ingestar datos de un base de datos SQL?
                            <br>
                            <div class="cont-left  hide-answer" id="8">
                                JDBC
                            </div>
                            <button id="btn8" onclick="alterAnswer(8)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué input nos permitiria ingestar datos pptenidos del comando
                            <mark>Uptime</mark> de linux?
                            <br>
                            <div class="cont-left  hide-answer" id="9">
                                Excec
                            </div>
                            <button id="btn9" onclick="alterAnswer(9)">Mostrar respuesta</button>
                        </li>
                    </ul>
                </li>
                <li>
                    Ahora va familiarice con los plugins de tipo <strong>Filter</strong>, ingrese a este
                    <a href="https://www.elastic.co/guide/en/logstash/current/filter-plugins.html">link</a> y
                    responda las siguientes preguntas
                    <ul>
                        <li>
                            ¿Qué filter nos permitiria parsear un archivo CSV?
                            <br>
                            <div class="cont-left  hide-answer" id="10">
                                CSV
                            </div>
                            <button id="btn10" onclick="alterAnswer(10)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué filter nos permitiria añadir datos georeferenciados a partir de una IP?
                            <br>
                            <div class="cont-left  hide-answer" id="11">
                                geoip
                            </div>
                            <button id="btn11" onclick="alterAnswer(11)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué filter nos permitiria ejecutar scripts de programacion?
                            <br>
                            <div class="cont-left  hide-answer" id="12">
                                Ruby
                            </div>
                            <button id="btn12" onclick="alterAnswer(12)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué filter nos permitiria eliminar un campo?
                            <br>
                            <div class="cont-left  hide-answer" id="13">
                                mutate
                            </div>
                            <button id="btn13" onclick="alterAnswer(13)">Mostrar respuesta</button>
                        </li>
                    </ul>
                </li>
                <li>
                    por ultimo va familiarice con los plugins de tipo <strong>Output</strong>, ingrese a este
                    <a href="https://www.elastic.co/guide/en/logstash/current/output-plugins.html">link</a> y
                    responda las siguientes preguntas
                    <ul>
                        <li>
                            ¿Qué output nos permitiria enviar datos a Elasticsearch?
                            <br>
                            <div class="cont-left  hide-answer" id="14">
                                Elasticsearch
                            </div>
                            <button id="btn14" onclick="alterAnswer(14)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué output nos permitiria obtener un archivo CSV?
                            <br>
                            <div class="cont-left  hide-answer" id="15">
                                CSV
                            </div>
                            <button id="btn15" onclick="alterAnswer(15)">Mostrar respuesta</button>
                        </li>
                        <li>
                            ¿Qué output nos permitiria obtener un cola de kafka kafka?
                            <br>
                            <div class="cont-left  hide-answer" id="16">
                                kafka
                            </div>
                            <button id="btn16" onclick="alterAnswer(16)">Mostrar respuesta</button>
                        </li>
                    </ul>
                </li>
                <li>
                    Cree la carpeta <mark>conf.d</mark> para almacenar sus pipelines dentro de la carpeta
                    principal de logstash descomprimido
                    <div class="cont-left code">
                        mkdir ./logstash-7.5.2/conf.d
                    </div>
                </li>
                <li>
                    En este momento vamos a contruir nuestra primera pipeline, cree un archivo llamado
                    <mark>lab4.conf</mark> en la carpeta <mark>conf.d</mark> dentro del logstash
                    que descomprimido
                    <div class="code cont-left">
                        sudo vim ./logstash-7.5.2/conf.d/lab4.conf
                    </div>
                </li>
                <li>
                    Añada el siguiente input, el cual generara datos de forma aleatoria 3 veces
                    <div class="cont-left code">
                        <pre class="">
input {
    generator {
        lines => [
           "line 1",
            "line 2",
            "line 3"
        ]
        count => 3
    }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Añada el siguiente Output, el cual le mostrara lo generado en pantalla
                    <div class="cont-left code">
                        <pre class="">
output {
    stdout {}
}
                        </pre>
                    </div>
                </li>
                <li>
                    Guarde y ejecute la pipeline de la siguiente forma
                    <div class="cont-left code">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab4.conf
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab5">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 5: input JDBC</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong> El objetivo de este laboratorio es que pueda extraer datos de una base
                de datos y comprenda el funcionamiento del input JDBC</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    verifique que tenga descargado el driver JDBC en su maquina
                    <br>
                    <div class="code cont-left">
                        ll /home/ubuntu/
                    </div>
                    deberia tener una respuesta como la siguiente
                    <div class="cont-cent">
                        <img src="./8.png" alt="">
                    </div>
                </li>
                <li>
                    Las credenciales para acceder a la base de datos son las siguientes, cree su string de conexión
                    <ul>
                        <li>
                            Host: lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com
                        </li>
                        <li>
                            Puerto: 5432
                        </li>
                        <li>
                            Database name: postgres
                        </li>
                        <li>
                            Username: postgres
                        </li>
                        <li>
                            Password: t3mp0r4l
                        </li>
                    </ul>
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab5.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => ""
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => ""
        jdbc_user => ""
        jdbc_password => ""
        statement => ''
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Añada los datos de la ruta donde se encuentra el driver de JDBC
                    <br>
                    <div class="cont-left code hide-answer" id="17">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => ""
        jdbc_user => ""
        jdbc_password => ""
        statement => ''
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn17" onclick="alterAnswer(17)">Mostrar respuesta</button>
                </li>
                <li>
                    Añada los datos del string de conexión
                    <br>
                    <div class="cont-left code hide-answer" id="18">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => ""
        jdbc_password => ""
        statement => ''
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn18" onclick="alterAnswer(18)">Mostrar respuesta</button>
                </li>
                <li>
                    Añada los datos de usuario y contraseña
                    <br>
                    <div class="cont-left code hide-answer" id="19">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => ''
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn19" onclick="alterAnswer(19)">Mostrar respuesta</button>
                </li>
                <li>
                    Añada la siguiente setencia de SQL
                    <br>
                    <div class="code cont-left">
                        SELECT * FROM world_happiness_report
                    </div>
                    <div class="cont-left code hide-answer" id="19">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn19" onclick="alterAnswer(19)">Mostrar respuesta</button>
                </li>
                <li>
                    Ejecute la pipeline
                    <br>
                    <div class="cont-left hide-answer code" id="22">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab5.conf
                    </div>
                    <button id="btn22" onclick="alterAnswer(22)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Qué campos fueros añadidos por Logstash, es decir que no provienen de la base de datos?
                    <br>
                    <div class="cont-left hide-answer" id="20">
                        <ul>
                            <li>
                                @timestamp
                            </li>
                            <li>
                                @version
                            </li>
                        </ul>
                    </div>
                    <button id="btn20" onclick="alterAnswer(20)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Que significa el campo <mark>@timestamp</mark>?
                    <br>
                    <div class="cont-left hide-answer" id="21">
                        Es la fecha en la que logstash realizo la impresion en pantalla del registro
                    </div>
                    <button id="btn21" onclick="alterAnswer(21)">Mostrar respuesta</button>
                </li>
                <li>
                    Cree un query que cumpla las siguientes Condiciones y adicionelo
                    <ul>
                        <li>
                            Taer la columna "﻿Country name" con el nombre Country
                        </li>
                        <li>
                            Traer la columna "Regional indicator" con el nombre Region
                        </li>
                        <li>
                            Traer la columna "Social support" con el nombre social_support
                        </li>
                        <li>
                            Traer unicamente los registros que cuentan con un "Social support" > 0.8
                        </li>
                    </ul>
                    <div class="code cont-left hide-answer" id="23">
                        select "﻿Country name" as Country, "Regional indicator" as region, "Social support" as
                        social_support from world_happiness_report where "Social support" > 0.8
                    </div>
                    <button id="btn23" onclick="alterAnswer(23)">Mostrar respuesta</button>
                </li>
                <li>
                    cree una copia de la pipeline lab5.conf con el nombre lab5_b.conf
                    <div class="code cont-left">
                        cp logstash-7.5.2/conf.d/lab5.conf logstash-7.5.2/conf.d/lab5_b.conf
                    </div>
                </li>
                <li>
                    Remplace la consulta SQL de la pipeline lab5_b.conf por la consulta que creó
                    <br>
                    <div class="cont-left code hide-answer" id="24">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'select "﻿Country name" as Country, "Regional indicator" as region, 
                    "Social support" as social_support from world_happiness_report where "Social support" > 0.8'
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn24" onclick="alterAnswer(24)">Mostrar respuesta</button>
                </li>
                <li>
                    Ejecute la pipeline
                    <br>
                    <div class="cont-left hide-answer code" id="25">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab5_b.conf
                    </div>
                    <button id="btn25" onclick="alterAnswer(25)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Que cambios nota entre la pipeline lab5.conf y la pipeline lab5_b.conf?
                </li>
            </ol>
        </div>
    </section>
    <section id="lab6">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 6: Input file</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es que pueda extraer datos de un archivo
                de datos y comprenda el funcionamiento del input file </label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Revise que tenga disponibles los datasets para este laboratorio
                    <div class="cont-left code">
                        ll datasets/lab6/
                    </div>
                    debería obtener un resultado como el siguiente
                    <div class="cont-cent" id="2">
                        <img src="./9.png" alt="">
                    </div>
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab6.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    file {
        start_position => beginning
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Añada el parametro con la ruta de el archivo que desea ingestar,
                    <mark>"/home/ubuntu/datasets/lab6/Apache_log_1.csv"</mark>, para determinar el parametro
                    que requiere acuda a la documentación. <a
                        href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html">
                        https://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html</a>
                    <br>
                    <div class="cont-left code hide-answer" id="26">
                        <pre class="">
input {
    file {
        path => "/home/ubuntu/datasets/lab6/Apache_log_1.csv"
        start_position => beginning
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn26" onclick="alterAnswer(26)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="27">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab6.conf
                    </div>
                    <button id="btn27" onclick="alterAnswer(27)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿En qué campo queda la lectura que realizó logstash de cada registro?
                    <br>
                    <div class="hide-answer cont-left" id="28">
                        message
                    </div>
                    <button id="btn28" onclick="alterAnswer(28)">Mostrar respuesta</button>
                </li>
                <li>
                    Edite la pipeline que creo para este laboratorio
                    <br>
                    <div class="code cont-left">
                        vim conf.d/lab6.conf
                    </div>
                </li>
                <li>
                    Haga que la pipeline lea todos los archivos CSV que estan en la carpeta
                    <mark>/home/ubuntu/datasets/lab6/</mark>
                    <br>
                    <div class="cont-left code hide-answer" id="29">
                        <pre class="">
input {
    file {
        path => "/home/ubuntu/datasets/lab6/*.csv"
        start_position => beginning
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn26" onclick="alterAnswer(29)">Mostrar respuesta</button>
                </li>
                <li>
                    Haga que el demilitador sea <mark>","</mark>
                    <br>
                    <div class="cont-left code hide-answer" id="290">
                        <pre class="">
input {
    file {
        path => "/home/ubuntu/datasets/lab6/*.csv"
        start_position => beginning
        delimiter => ","
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn290" onclick="alterAnswer(290)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="30">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab6.conf
                    </div>
                    <button id="btn30" onclick="alterAnswer(30)">Mostrar respuesta</button>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab7">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 7: Input UDP</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es que pueda extraer datos de un archivo
                de datos y comprenda el funcionamiento del input file </label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Revise que tenga disponibles los datasets para este laboratorio
                    <div class="cont-left code">
                        ll datasets/lab7/
                    </div>
                    debería obtener un resultado como el siguiente
                    <div class="cont-cent" id="2">
                        <img src="./10.png" alt="">
                    </div>
                </li>
                <li>
                    En una nueva sesion de ssh, realice la ejecucion del script de generación de datos por UDP
                    con el siguiente comando
                    <div class="cont-left code">
                        python datasets/lab7/genDataset.py
                    </div>
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab7.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    udp {
    }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Añada el parametro del puerto con el valor. <strong>25000</strong>
                    , para determinar el parametro
                    que requiere acuda a la documentación.
                    <a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-udp.html">
                        https://www.elastic.co/guide/en/logstash/current/plugins-inputs-udp.html</a>
                    <br>
                    <div class="cont-left code hide-answer" id="31">
                        <pre class="">
input {
  udp {
    port => 25000
  }
}
output {
    stdout { }
}
                        </pre>
                    </div>
                    <button id="btn31" onclick="alterAnswer(31)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="32">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab7.conf
                    </div>
                    <button id="btn32" onclick="alterAnswer(32)">Mostrar respuesta</button>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab8">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 8: output file</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es familizarse con los Outputs
                y que con ellos pueda almacenar datos en archivos usando logstash</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab8.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    file { }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Añada el parametro de la ruta donde dejara el archivo, a la ruta
                    <strong>/home/ubuntu/datasets/lab8/myfile.txt</strong>
                    , para determinar el parametro
                    que requiere acuda a la documentación.
                    <a href="https://www.elastic.co/guide/en/logstash/current/plugins-outputs-file.html">
                        https://www.elastic.co/guide/en/logstash/current/plugins-outputs-file.html</a>
                    <br>
                    <div class="cont-left code hide-answer" id="33">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    file {
        path => "/home/ubuntu/datasets/lab8/myfile.txt"
     }
}
                        </pre>
                    </div>
                    <button id="btn33" onclick="alterAnswer(33)">Mostrar respuesta</button>
                </li>
                <li>
                    Ejecute la pipeline
                    <br>
                    <div class="cont-left hide-answer code" id="34">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab8.conf
                    </div>
                    <button id="btn34" onclick="alterAnswer(34)">Mostrar respuesta</button>
                </li>
                <li>
                    Revise su ejecucion
                    <div class="cont-left code">
                        cat datasets/lab8/myfile.txt
                    </div>
                </li>
                <li>
                    ¿En que forma se encuentra el contenido del archivo myfile.txt?
                    <div class="cont-left hide-answer" id="35">
                        JSON
                    </div>
                </li>
                <button id="btn35" onclick="alterAnswer(35)">Mostrar respuesta</button>
            </ol>
        </div>
    </section>
    <section id="lab9">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 9: Output S3</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es almacenar datos obtenidos
                por logstash dentro de un bucket de s3</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab9.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    s3{ 
        access_key_id => ""
        secret_access_key => ""
        region => ""
        bucket => ""
        codec => "plain"
    }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Accedamos al bucket de S3 para obtener los datos de acceso necesarios, para el caso de este
                    laboratorio podemos acceder al siguiente Link
                    <a
                        href="https://s3.console.aws.amazon.com/s3/buckets/logstash-trainings?region=us-east-1&tab=objects">
                        https://s3.console.aws.amazon.com/s3/buckets/logstash-trainings?region=us-east-1&tab=objects</a>
                </li>
                <li>
                    En primer lugar debemos determinar cual es la región del bucket, esto lo podemos encontrar en la
                    sección de propiedades, por ejemplo para este caso es <strong>us-east-1</strong>
                    <div class="cont-cent">
                        <img src="./11.png" alt="" style="width: 100%;">
                    </div>
                </li>
                <li>
                    Ahora debemos determinar el nombre del bucket, este dato podemos obtenerlo en la misma sección de
                    propiedades, aparecera con el nombre <strong>Nombre de recurso de Amazon (ARN)</strong> para este
                    caso
                    el valor que requerimos es <strong>arn:aws:s3:::logstash-trainings</strong>
                    <div class="cont-cent">
                        <img src="./12.png" alt="" style="width: 100%;">
                    </div>
                </li>
                <li>
                    por ultimo necesitaremos tener las credenciales de acceso para logstash, esta gestion la deberemos
                    realizar desde IAM. Para este laboratorio no realizaremos las configuraciones de IAM, los datos
                    de acceso son los siguiente
                    <ul>
                        <li>
                            Access key ID: AKIAQZVPJXO6RQYFQYNA
                        </li>
                        <li>
                            Secret access key: PnglMYTYApvxPbZUNE6vR5xt8SkWEDtdH40wf34z
                        </li>
                    </ul>
                </li>
                <li>
                    Ahora juntamos todos datos necesarios y armamos los datos de conexión del plugin
                    <br>
                    <div class="cont-left code hide-answer" id="37">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    s3{ 
        access_key_id => "AKIAQZVPJXO6RQYFQYNA"
        secret_access_key => "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"
        region => "us-east-1"
        bucket => "arn:aws:s3:::logstash-trainings"
        codec => "plain"
    }
}
                        </pre>
                    </div>
                    <button id="btn37" onclick="alterAnswer(37)">Mostrar respuesta</button>
                </li>
                <li>
                    Ejecute la pipeline
                    <br>
                    <div class="cont-left hide-answer code" id="36">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab8.conf
                    </div>
                    <button id="btn36" onclick="alterAnswer(36)">Mostrar respuesta</button>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab10">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 10: Output ElasticSearch</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es almacenar datos obtenidos
                por logstash dentro de un Elasticsearch</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    verifique que tenga descargado el driver JDBC en su maquina
                    <br>
                    <div class="code cont-left">
                        ll /home/ubuntu/
                    </div>
                    deberia tener una respuesta como la siguiente
                    <div class="cont-cent">
                        <img src="./8.png" alt="">
                    </div>
                </li>
                <li>
                    Descomprima Elasticsearch
                    <div class="cont-left code">
                        tar -zxf elasticsearch-7.5.2-linux-x86_64.tar.gz
                    </div>
                </li>
                <li>
                    Descomprima Kibana
                    <div class="cont-left code">
                        tar -zxf kibana-7.5.2-linux-x86_64.tar.gz
                    </div>
                </li>
                <li>
                    Descomprima Kibana
                    <div class="cont-left code">
                        ./elasticsearch-7.5.2/bin/elasticsearch
                    </div>
                </li>
                <li>
                    Edite el archivo de configuracion <mark>kibana.yml</mark>
                    <div class="cont-left code">
                        vim kibana-7.5.2-linux-x86_64/config/kibana.yml
                    </div>
                </li>
                <li>
                    Adicione el parametro remplazando <strong>ip-local</strong> por su ip local
                    <div class="cont-left code">
                        server.host: "ip-local"
                    </div>
                </li>
                <li>
                    En sesiones de ssh distintas ejecute elasticsearch y kibana
                    <div class="cont-left code">
                        ./elasticsearch-7.5.2/bin/elasticsearch
                    </div>
                    <div class="cont-left code">
                        ./kibana-7.5.2-linux-x86_64/bin/kibana
                    </div>
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab10.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => ""
    #    user => ""
    #    password => ""
    }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Añada el nombre de indice, <strong>lab10</strong>
                    <div class="cont-left code hide-answer" id="40">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab10"
    #    user => ""
    #    password => ""
    }
}
                        </pre>
                    </div>
                    <br>
                    <button id="btn40" onclick="alterAnswer(40)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Por qué esta comentada la seccion de <strong>User</strong> y <strong>password</strong>?
                    <br>
                    <div class="cont-left hide-answer" id="41">
                        Porque el cluster que estamos usando no cuenta con seguridad activada
                    </div>
                    <button id="btn41" onclick="alterAnswer(41)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Por qué la seccion de Host es un arreglo?
                    <br>
                    <div class="cont-left hide-answer" id="42">
                        Al ser un arreglo cuando tenemos un cluster con mas de un nodo de elasticsearch podemos
                        poner varios destinos para balancear las cargas de ingesta
                    </div>
                    <button id="btn42" onclick="alterAnswer(42)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="43">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab10.conf
                    </div>
                    <button id="btn43" onclick="alterAnswer(43)">Mostrar respuesta</button>
                </li>
                <li>
                    En kibana dirijase a <strong>Managment</strong> y luego a <strong> Index Managment</strong>, deberia
                    obtener un resultado como el siguiente
                    <div class="cont-cent">
                        <img src="./13.png" alt="" style="width: 100%;">
                    </div>
                </li>
                <li>
                    Seleccione <strong>Index Patterns</strong> y cree un Index Pattern llamado <strong>lab*</strong>
                    usando como campo de fecha <mark>@timestamp</mark>
                    <div class="cont-cent">
                        <img src="./14.png" alt="" style="width: 100%;">
                    </div>
                </li>
                <li>
                    Por ultimo ingrese a discover y visualice sus datos
                    <div class="cont-cent">
                        <img src="./15.png" alt="" style="width: 100%;">
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab11">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 11: Filter Mutate</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es enteder el procesamiento
                de datos con el filtro mutate</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Para este laboratorio es necesario que los servicios de Elastic y Kibana esten en
                    ejecucion. Asegurese de ello
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab11.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
filter {
    mutate {
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab11"
    }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Cambiele el nombre del campo <mark>country name</mark> por <mark>pais_nombre</mark>
                    <mark>"/home/ubuntu/datasets/lab6/Apache_log_1.csv"</mark>, para determinar el parametro
                    que requiere acuda a la documentación. <a
                        href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-mutate.html">
                        https://www.elastic.co/guide/en/logstash/current/plugins-filters-mutate.html</a>
                    <br>
                    <div class="cont-left code hide-answer" id="50">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
filter {
    mutate {
        rename => ["country name", "pais_nombre" ]
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab11"
    }
}
                        </pre>
                    </div>
                    <button id="btn50" onclick="alterAnswer(50)">Mostrar respuesta</button>
                </li>
                <li>
                    Aplique Lowercase al campo <mark>regional indicator</mark>
                    <br>
                    <div class="cont-left code hide-answer" id="51">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
filter {
    mutate {
        rename => ["country name", "pais_nombre" ]
        lowercase => [ "regional indicator" ]
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab11"
    }
}
                        </pre>
                    </div>
                    <button id="btn51" onclick="alterAnswer(51)">Mostrar respuesta</button>
                </li>
                <li>
                    Aplique Upercase al campo <mark>country name</mark>
                    <br>
                    <div class="cont-left code hide-answer" id="52">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
filter {
    mutate {
        rename => ["country name", "pais_nombre" ]
        lowercase => [ "regional indicator" ]
        uppercase => [ "country name" ]
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab11"
    }
}
                        </pre>
                    </div>
                    <button id="btn52" onclick="alterAnswer(52)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="53">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab11.conf
                    </div>
                    <button id="btn53" onclick="alterAnswer(53)">Mostrar respuesta</button>
                </li>
                <li>
                    Por ultimo ingrese a discover y visualice sus datos
                    <div class="cont-cent">
                        <img src="./15.png" alt="" style="width: 100%;">
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab12">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 12: filter dissect</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es enteder el procesamiento
                de datos con el filtro dissect</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Para este laboratorio es necesario que los servicios de Elastic y Kibana esten en
                    ejecucion. Asegurese de ello
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab12.conf
                    </div>
                </li>
                <li>
                    Imprima en pantalla un archivo de logs
                    <div class="code cont-left">
                        cat datasets/lab6/Apache_log_1.csv
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    file {
        path => "/home/ubuntu/datasets/lab6/Apache_log_1.csv"
        start_position => beginning
    }
}
filter {
    dissect {
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab11"
    }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Use el filtro <strong>dissect</strong> para dividir el campo <mark>message</mark>
                    en los campos que muestra la siguiente imagen
                    <div class="cont-cent">
                        <img src="./16.png" alt="">
                    </div>
                    <br>
                    <div class="cont-left code hide-answer" id="54">
                        <pre class="">
input {
    file {
        path => "/home/ubuntu/datasets/lab6/Apache_log_1.csv"
        start_position => beginning
    }
}
filter {
    dissect {
        mapping => {
            "message" => "[%{fecha}, [%{level}, %{message}"
          }
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab12"
    }
}
                        </pre>
                    </div>
                    <button id="btn54" onclick="alterAnswer(54)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="55">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab12.conf
                    </div>
                    <button id="btn55" onclick="alterAnswer(55)">Mostrar respuesta</button>
                </li>
                <li>
                    Por ultimo ingrese a discover y visualice sus datos
                    <div class="cont-cent">
                        <img src="./15.png" alt="" style="width: 100%;">
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab13">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 13: Filter Grok</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es enteder el procesamiento
                de datos con el filtro Grok y el uso de sus expresiones</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Para este laboratorio es necesario que los servicios de Elastic y Kibana esten en
                    ejecucion. Asegurese de ello
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab13.conf
                    </div>
                </li>
                <li>
                    Imprima en pantalla un archivo de logs
                    <div class="code cont-left">
                        cat datasets/lab6/Apache_log_1.csv
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    file {
        path => "/home/ubuntu/datasets/lab6/Apache_log_1.csv"
        start_position => beginning
    }
}
filter {
    grok {
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab13"
    }
}
                            </pre>
                    </div>
                </li>
                <li>
                    Use el filtro <strong>grok</strong> para dividir el campo <mark>message</mark>
                    en los campos que muestra la siguiente imagen
                    <div class="cont-cent">
                        <img src="./18.png" alt="">
                    </div>
                    <br>
                    ingrese a Kibana y use la consola de debugging de Grok, donde debera probar
                    sus expresiones, tambien puede encontrar los patterns de Grok en el siguiente
                    link, <a href="https://github.com/hpcugent/logstash-patterns/blob/master/files/grok-patterns">
                        ttps://github.com/hpcugent/logstash-patterns/blob/master/files/grok-patterns</a>
                    <div class="cont-cent">
                        <img src="./17.png" alt="" style="width: 100%;">
                    </div>
                    <div class="cont-left code hide-answer" id="56">
                        <pre class="">
input {
    file {
        path => "/home/ubuntu/datasets/lab6/Apache_log_1.csv"
        start_position => beginning
    }
}
filter {
    grok {
        match => { 
            "message" => "%{DAY:day_week} %{MONTH:month} %{MONTHDAY:day} %{TIME:time} %{YEAR:year}, \[%{WORD:level},  %{GREEDYDATA:message}" 
        }
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab13"
    }
}
                            </pre>
                    </div>
                    <button id="btn56" onclick="alterAnswer(56)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="57">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab13.conf
                    </div>
                    <button id="btn57" onclick="alterAnswer(57)">Mostrar respuesta</button>
                </li>
                <li>
                    Por ultimo ingrese a discover y visualice sus datos
                    <div class="cont-cent">
                        <img src="./15.png" alt="" style="width: 100%;">
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab14">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 14: Filter Ruby</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es enteder la integracion
                del lenguaje de programacion Ruby con Logstash</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Para este laboratorio es necesario que los servicios de Elastic y Kibana esten en
                    ejecucion. Asegurese de ello
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab14.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'select * from  city_temperature_csv'
    }
}
filter {
    ruby {
      code => ''
    }
  }
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab14"
    }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Cree un script de ruby que tome los datos del campo <mark>avgtemperature</mark>, que representa
                    el promedio de temperatura en grados fahrenheit y conviertalos a centigrados dejando el
                    resultado en el campo <mark>avgtemperature_cent</mark>. La formula de conversion
                    es <strong>C° = F°*1.8 + 35</strong>
                    <br>
                    <div class="cont-left code hide-answer" id="60">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'select * from  city_temperature_csv'
    }
}
filter {
    ruby {
      code => 'event.set("[avgtemperature_cent]", (event.get("[avgtemperature]")*1.8) + 32)'
    }
  }
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab14"
    }
}
                        </pre>
                    </div>
                    <button id="btn60" onclick="alterAnswer(60)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="61">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab14.conf
                    </div>
                    <button id="btn61" onclick="alterAnswer(61)">Mostrar respuesta</button>
                </li>
                <li>
                    Por ultimo ingrese a discover y visualice sus datos
                    <div class="cont-cent">
                        <img src="./15.png" alt="" style="width: 100%;">
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab15">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 15: Filter Geo IP</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio aprender a usar
                el filtro Geo IP para obtener datos georeferenciados basdados en una IP</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                <li>
                    Revise que tenga disponibles los datasets para este laboratorio
                    <div class="cont-left code">
                        ll datasets/lab7/
                    </div>
                    debería obtener un resultado como el siguiente
                    <div class="cont-cent" id="2">
                        <img src="./10.png" alt="">
                    </div>
                </li>
                <li>
                    En una nueva sesion de ssh, realice la ejecucion del script de generación de datos por UDP
                    con el siguiente comando
                    <div class="cont-left code">
                        python datasets/lab7/genDataset.py
                    </div>
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab15.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    udp {
        port => 25000
    }
}
filter{
    json {
          source => "message"
        }
    geoip {
    }
  }
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab15"
    }
}
                            </pre>
                    </div>
                </li>
                <li>
                    Haga que el campo de origen sea <mark>incap-client-ip</mark> y que los datos
                    de destino vayan al campo <mark>geo</mark>
                    <div class="cont-left code hide-answer" id="59">
                        <pre class="">
input {
    udp {
        port => 25000
    }
}
filter{
    json {
          source => "message"
        }
    geoip {
      source => "incap-client-ip"
      target => "geo"
    }
  }
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab15"
    }
}
                                </pre>
                    </div>
                    <button id="btn59" onclick="alterAnswer(63)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline que acaba de crear
                    <br>
                    <div class="cont-left code hide-answer" id="58">
                        ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab13.conf
                    </div>
                    <button id="btn58" onclick="alterAnswer(64)">Mostrar respuesta</button>
                </li>
                <li>
                    Por ultimo ingrese a discover y visualice sus datos
                    <div class="cont-cent">
                        <img src="./15.png" alt="" style="width: 100%;">
                    </div>
                </li>
                <li>
                    <stron>Opcional:</stron> Entre a la vizualicación de mapas y cree una
                    basada en los datos que acaba de ingestar
                </li>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab16">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 16: debugging y Troubleshooting en logstash</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio aprender a usar
                las herramientas disponibles en logstash para realizar un proceso
                adecuado de busqueda y solucion de errores</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Ingrese al archivo <strong>logstash.yml</strong> y active la configuracion
                    <div class="cont-left code">
                        pipeline.separate_logs: true
                    </div>
                </li>
                <li>
                    desactive la configuracion <mark>log.level: info</mark> que realizo en el
                    laboratorio de instalacion colocando un simbolo <strong>#</strong> al comienzo
                    <div class="code cont-left">
                        #log.level: info
                    </div>
                </li>
                <li>
                    ejecute las pipelines de las lecciones 6, 7 y 8 pero como administrador
                    <br>
                    <div class="cont-left code hide-answer" id="65">
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab6.conf <br>
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab7.conf <br>
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab8.conf <br>
                    </div>
                    <button id="btn65" onclick="alterAnswer(65)">Mostrar respuesta</button>
                </li>
                <li>
                    Ejecute el siguiente comando para ver los archivos de logs disponibles
                    <div class="code cont-left">
                        ls /var/log/logstash/
                    </div>
                </li>
                <li>
                    Ejecute el siguiente comando para ver el contenido de los logs planos
                    <div class="code cont-left">
                        cat /var/log/logstash/logstash-plain.log
                    </div>
                </li>
                <li>
                    ¿Que indica el siguiente log?
                    <div class="code cont-left">
                        [2021-04-28T15:44:47,460][ERROR][org.logstash.Logstash ] org.jruby.exceptions.ThreadKill
                    </div>
                    <div class="cont-left  hide-answer" id="66">
                        Muestra que la pipeline fue forzada a detenerse de forma manual
                    </div>
                    <button id="btn66" onclick="alterAnswer(66)">Mostrar respuesta</button>
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab12.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        statement => 'SELECT * FROM world_happiness_report'
    }
}
output {
    s3{ 
        access_key_id => "AKIAQZVPJXO6RQYFQYNA"
        secret_access_key => "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"
        region => "us-east-1"
        bucket => "arn:aws:s3:::logstash-trainings"
        codec => "plain"
    }
}
                        </pre>
                    </div>
                </li>
                <li>
                    Ejecute la pipeline con permisos de administrador
                    <br>
                    <div class="cont-left hide-answer code" id="67">
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab16.conf
                    </div>
                    <button id="btn67" onclick="alterAnswer(67)">Mostrar respuesta</button>
                </li>
                <li>
                    ¿Que significa el siguiente error?
                    <div class="cont-cent">
                        <img src="./19.png" alt="" style="width: 100%;">
                    </div>
                    <br>
                    <div class="cont-left hide-answer" id="68">
                        Que las credenciales otorgadas no tienen permisos para escribir en el bucket de S3
                    </div>
                    <button id="btn68" onclick="alterAnswer(68)">Mostrar respuesta</button>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab17">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 17: Configuraciones adicionales de Logstash
            </label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es enteder el uso
                y funcionamiento de los condicionales y otras funciones adicionales en logstash con el fin de hacer
                Pipelines mas complejas y que satisfagan mas casos de uso</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Para este laboratorio es necesario que los servicios de Elastic y Kibana esten en
                    ejecucion. Asegurese de ello
                </li>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab17.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        select * from  city_temperature_csv where country = 'US'
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab14"
    }
    stdout {}
}
                            </pre>
                    </div>
                </li>
                <li>
                    Guarde y ejecute la pipeline de la siguiente forma
                    <div class="cont-left code">
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab7.conf
                    </div>
                </li>
                <li>
                    haga que unicamente los registros que tienen como ciudad (<strong>city</strong>)
                    <strong>Birmingham</strong>
                    sean mostrados en pantalla con el plugin <strong>stdout</strong>
                    <br>
                    <div class="cont-left code hide-answer" id="69">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        select * from  city_temperature_csv where country = 'US'
    }
}
output {
    elasticsearch {
        hosts => ["localhost:9200"]
        index => "lab14"
    }
    if [city] == "Birmingham" {
        stdout {}
    }
}
                            </pre>
                    </div>
                    <button id="btn69" onclick="alterAnswer(69)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline de la siguiente forma
                    <br>
                    <div class="cont-left code">
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab7.conf
                    </div>
                </li>
                <li>
                    haga que los registros que son mostrados en pantalla mediante el plugin
                    <strong>stdout</strong> no sean enviados a elasticsearch
                    <br>
                    <div class="cont-left code hide-answer" id="70">
                        <pre class="">
input {
    jdbc{
        #input configuration
        jdbc_driver_library => "/home/ubuntu/postgresql-42.2.19.jar"
        jdbc_driver_class => "org.postgresql.Driver"
        jdbc_connection_string => "jdbc:postgresql://lab4.cmugonrbtx1e.us-east-1.rds.amazonaws.com:5432/postgres"
        jdbc_user => "postgres"
        jdbc_password => "t3mp0r4l"
        select * from  city_temperature_csv where country = 'US'
    }
}
output {
    if [city] == "Birmingham" {
        stdout {}
    } 
    else {
        elasticsearch {
            hosts => ["localhost:9200"]
            index => "lab14"
        }
    }
}
                            </pre>
                    </div>
                    <button id="btn70" onclick="alterAnswer(70)">Mostrar respuesta</button>
                </li>
                <li>
                    Guarde y ejecute la pipeline de la siguiente forma
                    <div class="cont-left code">
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab7.conf
                    </div>
                </li>
            </ol>
        </div>
    </section>
    <section id="lab18">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 18: Instalando Plugins de la comunidad</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es aprender a usar
                el contenido creado por la comunidad a nivel de plugin, facilitando el desarollo
                e implementacion de pipelines de logstash</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                    Dentro de la carpeta de logstash descomprimido cree una nueva pipeline
                    <div class="code cont-left">
                        vim conf.d/lab17.conf
                    </div>
                </li>
                <li>
                    Añada la siguiente plantilla a su documento
                    <div class="cont-left code">
                        <pre class="">
input {
    generator {
        lines => [
           "line 1",
            "line 2",
            "line 3"
        ]
        count => 3
    }
}
output {
    exec {
        command => "mkdir /home/ubuntu/datasets/lab18"
    }
}
                            </pre>
                    </div>
                </li>
                <li>
                    Guarde y ejecute la pipeline de la siguiente forma
                    <div class="cont-left code">
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab18.conf
                    </div>
                </li>
                <li>
                    Instale el plugin output exec
                    <div class="code cont-left">
                        bin/logstash-plugin install logstash-output-exec
                    </div>
                </li>
                <li>
                    Guarde y ejecute la pipeline de la siguiente forma
                    <div class="cont-left code">
                        sudo ./logstash-7.5.2/bin/logstash -f ./logstash-7.5.2/conf.d/lab18.conf
                    </div>
                </li>
                <li>
                    Ejecute el siguiente comando, la pipeline debio crear la carpeta lab18
                    <div class="code cont-left">
                        ls /home/ubuntu/datasets
                    </div>
                </li>
                <li>
                    Compare el resultado de las dos ejecuciones
                </li>
            </ol>
        </div>
    </section>
    <section id="lab19">
        <div class="title" style="margin-top: 0;">
            <label for="">Lab 19: Configuraciones Avanzadas</label>
        </div>
        <div class="cont-left">
            <label><strong>Objetivo:</strong>El objetivo de este laboratorio es conocer
                las herraientas que tenemos a nuestra disposcicion para implementar
                logstash con las mejores practicas, recusos y herramientas Avanzadas
                para ambientes productivos y de desarollo</label>
        </div>
        <div class="cont-left">
            <ol>
                <li>
                </li>
            </ol>
        </div>
    </section>
</body>

</html>